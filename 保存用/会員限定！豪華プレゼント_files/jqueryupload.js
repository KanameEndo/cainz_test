!function(t){function e(e){return t.map(n(e),(function(e){var n=t(document.createElement("input"));return n.attr("type","hidden"),n.attr("name",e.name),n.attr("value",e.value),n})).join("")}function n(e){function n(t,e){r.push({name:t,value:e})}if(t.isArray(e))return e;var r=[];return"object"==typeof e?t.each(e,(function(e){t.isArray(this)?t.each(this,(function(){n(e,this)})):n(e,t.isFunction(this)?this():this)})):"string"==typeof e&&t.each(e.split("&"),(function(){var e=t.map(this.split("="),(function(t){return decodeURIComponent(t.replace(/\+/g," "))}));n(e[0],e[1])})),r}function r(e,n){var r,o=t(e).contents().get(0);if(t.isXMLDoc(o)||o.XMLDocument)return o.XMLDocument||o;switch(r=t(o).find("body").html(),n){case"xml":r=i(r);break;case"json":r=t.parseJSON(r)}return r}function i(t){if(window.DOMParser)return(new DOMParser).parseFromString(t,"application/xml");var e=new ActiveXObject("Microsoft.XMLDOM");return e.async=!1,e.loadXML(t),e}var o=0;t.fn.upload=function(n,i,a,c){var u,s,p,m=this,f="jquery_upload"+ ++o,h=t('<iframe name="'+f+'" style="position:absolute;top:-9999px" />').appendTo("body"),l='<form target="'+f+'" method="post" enctype="multipart/form-data" />';return t.isFunction(i)&&(c=a,a=i,i={}),s=t("input:checkbox",this),p=t("input:checked",this),l=m.wrapAll(l).parent("form").attr("action",n),s.removeAttr("checked"),p.attr("checked",!0),u=e(i),u=u?t(u).appendTo(l):null,l.submit((function(){h.load((function(){var e=r(this,c),n=t("input:checked",m);l.after(m).remove(),s.removeAttr("checked"),n.attr("checked",!0),u&&u.remove(),setTimeout((function(){h.remove(),"script"===c&&t.globalEval(e),a&&a.call(m,e)}),0)}))})).submit(),this}}(jQuery);