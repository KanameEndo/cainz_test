$((function(){if($("#form1_preferential_birth_m").length){if($("#form1_preferential_birth_m").attr("value")==""){$("#form1_preferential_birth_m")[0].selectedIndex=-1}else{$("#form1_preferential_birth_m")[0].selectedIndex=$("#form1_preferential_birth_m").attr("value")}if($("#form1_preferential_birth_d").attr("value")==""){$("#form1_preferential_birth_d")[0].selectedIndex=-1}else{$("#form1_preferential_birth_d")[0].selectedIndex=$("#form1_preferential_birth_d").attr("value")}adjust_to_last_day()}}));if($("#form1_preferential_birth_m").length){$("#form1_preferential_birth_m").change((function(){if($("#form1_preferential_birth_m")[0].selectedIndex==0){$("#form1_preferential_birth_m")[0].selectedIndex=-1}adjust_to_last_day()}));$("#form1_preferential_birth_d").change((function(){if($("#form1_preferential_birth_d")[0].selectedIndex==0){$("#form1_preferential_birth_d")[0].selectedIndex=-1}adjust_to_last_day()}))}if(location.pathname==="/dog"){if(sessionStorage.getItem("search_modal_Dogs_element")==null){const searchElementInner=document.querySelector("#search-form-202110_popup").outerHTML;sessionStorage.setItem("search_modal_Dogs_element",searchElementInner)}}else if(location.pathname==="/breeder"){if(sessionStorage.getItem("search_modal_Breeder_element")==null){const searchElementInner=document.querySelector("#search-form-202110_popup").outerHTML;sessionStorage.setItem("search_modal_Breeder_element",searchElementInner)}}function adjust_to_last_day(){var selected_day=$("#form1_preferential_birth_d")[0].selectedIndex;var selected_month=$("#form1_preferential_birth_m")[0].selectedIndex;var adjust_month=[2,4,6,9,11];if(selected_day>29&&adjust_month.indexOf(selected_month)>=0){if(selected_month==2){$("#form1_preferential_birth_d")[0][30].disabled=true;$("#form1_preferential_birth_d")[0][31].disabled=true;selected_day=$("#form1_preferential_birth_d")[0].selectedIndex=29}else{$("#form1_preferential_birth_d")[0][30].disabled=false;$("#form1_preferential_birth_d")[0][31].disabled=true;selected_day=$("#form1_preferential_birth_d")[0].selectedIndex=30}}else{$("#form1_preferential_birth_d")[0][30].disabled=false;$("#form1_preferential_birth_d")[0][31].disabled=false}}function insertFormText(arr,target){if(typeof arr!="undefined"&&arr!=null&&arr.length!=null&&arr.length>0){var text="";var num=arr.length-3;var count=arr.length;if(count>3)count=3;for(var i=0;i<count;i++){text=text+'<span class="selected_items">'+arr[i]+"</span>"}if(num>0){text=text+'<span class="selected_items" style="background: none;">その他 '+num+"</span>"}$(target).html(text)}else{$(target).html('<span class="selected_items">すべて</span>')}}function checkOtherForm(ids,formNumber,target,resetTarget){var otherForm1="";var otherForm2="";if(formNumber==="form1_"){otherForm1="form2_";otherForm2="form3_"}else if(formNumber==="form2_"){otherForm1="form1_";otherForm2="form3_"}else{otherForm1="form1_";otherForm2="form2_"}var checkTarget1="#"+otherForm1+target;var checkTarget2="#"+otherForm2+target;$("."+otherForm1+resetTarget).prop("checked",false);$("."+otherForm2+resetTarget).prop("checked",false);if(typeof ids!="undefined"&&ids!=null&&ids.length!=null&&ids.length>0){ids.forEach((function(val){$(checkTarget1+val).prop("checked",true);$(checkTarget2+val).prop("checked",true)}))}}function countBreeds(arr){var count=0;if(arr.length>0){count=arr.length}$(".breeds_count").text(count)}function setRegions(checkIds){var regionKeys={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1};var region1=["2","3","4","5","6","7"];var region2=["8","9","10","11","12","13","14"];var region3=["15","16","17","18","19","20","21","22","23","24"];var region4=["25","26","27","28","29","30"];var region5=["31","32","33","34","35"];var region6=["36","37","38","39"];var region7=["40","41","42","43","44","45","46","47"];if(checkIds.indexOf("1")==-1){regionKeys["0"]=null}region1.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["1"]=null}}));region2.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["2"]=null}}));region3.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["3"]=null}}));region4.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["4"]=null}}));region5.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["5"]=null}}));region6.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["6"]=null}}));region7.forEach((function(val){if(checkIds.indexOf(val)==-1){regionKeys["7"]=null}}));var formRegionId1="#form1_region";var formRegionId2="#form2_region";var formRegionId3="#form3_region";Object.keys(regionKeys).forEach((function(key){if(regionKeys[key]===1){$(formRegionId1+key).prop("checked",true);$(formRegionId2+key).prop("checked",true);$(formRegionId3+key).prop("checked",true)}else if(regionKeys[key]===null){$(formRegionId1+key).prop("checked",false);$(formRegionId2+key).prop("checked",false);$(formRegionId3+key).prop("checked",false)}}))}function setDogBreedCategories(dbIds){var categoryIds={20:1,18:1,42:1,13:1,6:1,37:1};var category1=["20","130","131"];var category2=["18","146","147"];var category3=["42","132","133","134","135","136","137","138","139","140","141","142","157","158","162","164"];var category4=["13","50"];var category5=["6","143","144","145"];var category6=["37","148","149","150"];var categorySingle=["30","34","39","35","36","24","11","16","7","25","27","31","33","10","5"];category1.forEach((function(val){if(dbIds.indexOf(val)==-1){categoryIds["20"]=null}}));category2.forEach((function(val){if(dbIds.indexOf(val)==-1){categoryIds["18"]=null}}));category3.forEach((function(val){if(dbIds.indexOf(val)==-1){categoryIds["42"]=null}}));category4.forEach((function(val){if(dbIds.indexOf(val)==-1){categoryIds["13"]=null}}));category5.forEach((function(val){if(dbIds.indexOf(val)==-1){categoryIds["6"]=null}}));category6.forEach((function(val){if(dbIds.indexOf(val)==-1){categoryIds["37"]=null}}));var formBreedAllId1="#form1_breeds_all_";var formBreedAllId2="#form2_breeds_all_";var formBreedAllId3="#form3_breeds_all_";var formSingleBreed1="#form1_popular";var formSingleBreed2="#form2_popular";var formSingleBreed3="#form3_popular";categorySingle.forEach((function(val){if(dbIds.indexOf(val)>=0){$(formSingleBreed1+val).prop("checked",true);$(formSingleBreed2+val).prop("checked",true);$(formSingleBreed3+val).prop("checked",true)}else if(dbIds.indexOf(val)==-1){$(formSingleBreed1+val).prop("checked",false);$(formSingleBreed2+val).prop("checked",false);$(formSingleBreed3+val).prop("checked",false)}}));Object.keys(categoryIds).forEach((function(key){if(categoryIds[key]===1){$(formBreedAllId1+key).prop("checked",true);$(formBreedAllId2+key).prop("checked",true);$(formBreedAllId3+key).prop("checked",true)}else if(categoryIds[key]===null){$(formBreedAllId1+key).prop("checked",false);$(formBreedAllId2+key).prop("checked",false);$(formBreedAllId3+key).prop("checked",false)}}))}function setPrefecturesLoad(){var targetElement='[class="form1_pref_checkbox pref_checkbox"]:checked';var checkIds=$(targetElement).map((function(){return $(this).val()})).get();var checkNames=$(targetElement).map((function(){return $(this).next("label.checkbox").text()})).get();insertFormText(checkNames,".selected-prefectures");setRegions(checkIds)}function setDogBreedsLoad(){var targetElement='[class="form1_breeds_checkbox breeds_checkbox"]:checked';var checkIds=$(targetElement).map((function(){return $(this).val()})).get();var checkNames=$(targetElement).map((function(){return $(this).next("label.checkbox").text()})).get();insertFormText(checkNames,".selected-dog_breeds");setDogBreedCategories(checkIds);countBreeds(checkIds)}function changeBreederName(targetInput){$(".input_breeder_name").val($(targetInput).val())}function changePopularBreeds(formNumber,formValue,isChecked){var checkboxName='[class="'+formNumber+'popular_breeds popular_checkbox"]:checked';var breedIds=$(checkboxName).map((function(){return $(this).val()})).get();var otherForm1="";var otherForm2="";if(formNumber==="form1_"){otherForm1="form2_";otherForm2="form3_"}else if(formNumber==="form2_"){otherForm1="form1_";otherForm2="form3_"}else{otherForm1="form1_";otherForm2="form2_"}$("."+otherForm1+"popular_breeds").prop("checked",false);$("."+otherForm2+"popular_breeds").prop("checked",false);breedIds.forEach((function(val){$("#"+otherForm1+"popular"+val).prop("checked",true);$("#"+otherForm2+"popular"+val).prop("checked",true)}));if(isChecked){$("#form1_breed"+formValue).prop("checked",true);$("#form2_breed"+formValue).prop("checked",true);$("#form3_breed"+formValue).prop("checked",true)}else{$("#form1_breed"+formValue).prop("checked",false);$("#form2_breed"+formValue).prop("checked",false);$("#form3_breed"+formValue).prop("checked",false)}var breedNames=$('[class="form1_breeds_checkbox breeds_checkbox"]:checked').map((function(){return $(this).next("label.checkbox").text()})).get();countBreeds(breedNames);insertFormText(breedNames,".selected-dog_breeds");setDogBreedCategories(breedIds)}function insertDetailText(){var detailText=$(".form1_form_details input:checked").map((function(){return $(this).next("label").text()})).get();if(typeof detailText!="undefined"&&detailText!=null&&detailText.length!=null&&detailText.length>0){var text="";var i=0;detailText.forEach((function(val,index){if(i===5)return false;text=text+'<span class="selected_items">'+val+"</span>";i++}));var num=detailText.length-5;if(num>0){text=text+'<span class="selected_items" style="background: none;">その他 '+num+"</span>"}if(text!==""){$(".selected-details").html(text)}else{$("selected-details").html('<span class="selected_items">指定なし</span>')}}else{$(".selected-details").html('<span class="selected_items">指定なし</span>')}}function insertRadioDetailText(obj,formNumber,textTarget,itemTarget,resetTarget){var formText=$(obj).next("label").text();var formValue=$(obj).val();var otherForm="form1_";if(formNumber==="form1_"){otherForm="form3_"}if(formValue===""){$("#"+otherForm+resetTarget).prop("checked",true)}else{$("#"+otherForm+itemTarget+formValue).prop("checked",true)}var text='<span class="selected_items" style="margin: 0;">'+formText+"</span>";$(textTarget).html(text);insertDetailText()}function insertCheckboxDetailText(ids,formNumber,targetForm,targetClass,targetId,textTarget){var checkedName=$('[class="'+formNumber+targetClass+" "+targetClass+'"]:checked').map((function(){return $(this).next("label").text()})).get();$("."+targetForm+targetClass).prop("checked",false);ids.forEach((function(val){$("#"+targetForm+targetId+val).prop("checked",true)}));var text='<span class="selected_items">すべて</span>';var i=0;if(checkedName.length>0){text="";checkedName.forEach((function(val){if(i===3)return false;text=text+'<span class="selected_items">'+val+"</span>";i++}));if(checkedName.length>3){var num=checkedName.length-3;text=text+'<span class="selected_items">その他 '+num+"</span>"}}$(textTarget).html(text);insertDetailText()}function insertEachDetailTextLoad(){var colorIds=$('[class="form1_color_checkbox color_checkbox"]:checked').map((function(){return $(this).val()})).get();insertCheckboxDetailText(colorIds,"form1_","form3_","color_checkbox","color",".detail_color");var statusIds=$('[class="form1_sale_status_checkbox sale_status_checkbox"]:checked').map((function(){return $(this).val()})).get();insertCheckboxDetailText(statusIds,"form1_","form3_","sale_status_checkbox","sale_status_id_",".detail_sale");var spanBefore='<span class="selected_items">';var spanAfter="</span>";var birthText=$(".form1_form_details .to_checkbox:checked").next("label").text();if(birthText==="")birthText="すべて";$(".detail_birth").html(spanBefore+birthText+spanAfter);var sexText=$(".form1_form_details .sex_checkbox:checked").next("label").text();if(sexText==="")sexText="すべて";$(".detail_sex").html(spanBefore+sexText+spanAfter);var minText=$(".form1_form_details .min_checkbox:checked").next("label").text();if(minText==="")minText="下限なし";$(".detail_min").html(spanBefore+minText+spanAfter);var maxText=$(".form1_form_details .max_checkbox:checked").next("label").text();if(maxText==="")maxText="上限なし";$(".detail_max").html(spanBefore+maxText+spanAfter)}function searchBreedText(formNumber,inputText){var columnClass="."+formNumber+"breed_column";var columnGroupClass="."+formNumber+"breed_column_group";var breedLabelClass="."+formNumber+"text_breed";var searchTarget=breedLabelClass+":contains('"+inputText+"')";if(inputText===""){$(columnClass).show();$(columnGroupClass).hide();$(breedLabelClass).parent("li").show()}else{$(columnClass).hide();$(breedLabelClass).parent("li").hide();$(columnGroupClass).show();$(searchTarget).parent("li").show()}}function getColor(ids){let data=[];if(ids){data=ids}$.ajax({url:"/dog_breeds/colors/",type:"POST",data:{dc_id:JSON.stringify(data)}}).done((function(res){colors=JSON.parse(res);$(".color_checkbox").prop("checked",false);$(".color_checkbox").parent("li").hide();Object.keys(colors).forEach((function(key){$("#form1_color"+key).parent("li").show();$("#form2_color"+key).parent("li").show();$("#form3_color"+key).parent("li").show()}));$(".detail_color").html('<span class="selected_items">すべて</span>');insertDetailText()})).fail((function(xhr,tex,err){}))}function sideMenuClose(){const IsSideMenuOpen=document.getElementsByClassName("side_menu side_menu_menu open");if(1==IsSideMenuOpen.length){const sideMenuClose=document.getElementsByClassName("side_menu_menu_toggle")[0];sideMenuClose.click()}}function popupDataReplace(url,dogOrBreeder){function reloadScript(src){var script=$('script[src="'+src+'"]');script.remove();var newScript=document.createElement("script");newScript.src=src;document.head.appendChild(newScript)}function openAndReplace(dogOrBreeder,data){$(".mfp-link").magnificPopup("close");let element=document.getElementById("search-form-202110_popup");element.outerHTML=data;$(".modal_lazy_load").each((function(){var img=$(this);img.attr("src",img.data("src"))}));$("body").addClass("popup_form-content_bg");const jsReloadList=["search_form.js","search_form_items","search_condition.js","Dogs/modal_search_dog","accordion-toggle","accordion"];const scripts=document.querySelectorAll("script[src]");scripts.forEach((function(script){jsReloadList.forEach((element=>{if(script.src.indexOf(element)!==-1){reloadScript(script.src)}}))}));const accordionDog=document.getElementById("toDogBreeds");const accordionPre=document.getElementById("toPrefecture");accordionDog.classList.add("selected");accordionPre.classList.add("selected");$(accordionDog).next().slideToggle();$(accordionPre).next().slideToggle();$.magnificPopup.open({items:{src:"#search-form-202110_popup"},type:"inline"});const forms=document.querySelectorAll("form");const filteredForms=Array.from(forms).filter((form=>form.id.includes("form1_DogSearchForm")||form.id.includes("form2_BreederSearchForm")));const filteredSortForms=Array.from(forms).filter((form=>form.id.includes("DogSortForm")||form.id.includes("BreederSortForm")));filteredForms.forEach((element=>{if(dogOrBreeder==="Dogs"){element.id="form1_DogSearchForm";element.action="/dog"}else{element.id="form2_BreederSearchForm";element.action="/breeder"}}));filteredSortForms.forEach((element=>{if(dogOrBreeder==="Dogs"){element.id="DogSortForm";element.action="/dog"}else{element.id="BreederSortForm";element.action="/breeder"}}));if(dogOrBreeder==="Dogs"){const tmpNode=document.createElement("div");tmpNode.id="tmpInput";const inputNode=document.createElement("input");inputNode.type="hidden";inputNode.name="sort_n";inputNode.id="form1_sort_n";document.querySelector("#form1_DogSearchForm").appendChild(tmpNode);document.querySelector("#form1_DogSearchForm").appendChild(inputNode)}}$(".loading_wrap").show();const popupSessionData=sessionStorage.getItem("search_modal_"+dogOrBreeder+"_element");if(popupSessionData!=null){openAndReplace(dogOrBreeder,popupSessionData);$(".loading_wrap").hide()}else{$.ajax({url:"/"+url+"/",type:"GET",dataType:"html",success:function(data){sessionStorage.setItem("search_modal_"+dogOrBreeder+"_element",data);openAndReplace(dogOrBreeder,data);$(".loading_wrap").hide()}})}isModalReplace=false}$((function(){$("body").on("click touchstart",".sButton2",(function(){$("#tabcheck2").click();$("#tabPuppy li:eq(0)").removeClass("select");$(".content_wrap_puppy:eq(0)").addClass("disnon");$("#tabPuppy li:eq(1)").addClass("select");$(".content_wrap_puppy:eq(1)").removeClass("disnon")}));$(document).on("change",".dog_sort",(function(){$("#form1_sort_n").val($(this).val());$("#form1_DogSearchForm").submit()}));$(document).on("change",".breeder_sort",(function(){$("#form2_sort").val($(this).val());$("#form2_BreederSearchForm").submit()}));$(".pref_all").click((function(){$(".pref_checkbox").prop("checked",false);$(".selected-prefectures").html('<span class="selected_items">すべて</span>')}));$(document).on("click",".region",(function(){$(this).parent().next("td").find("input[type=checkbox]").prop("checked",this.checked)}));$(".pref_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);var checkboxName='[class="'+formNumber+'pref_checkbox pref_checkbox"]:checked';var prefIds=$(checkboxName).map((function(){return $(this).val()})).get();var prefNames=$(checkboxName).map((function(){return $(this).next("label.checkbox").text()})).get();checkOtherForm(prefIds,formNumber,"pref","pref_checkbox");insertFormText(prefNames,".selected-prefectures");setRegions(prefIds)}));$(".dog_breed_submit").click((function(){const breedIds=$('[class="form1_breeds_checkbox breeds_checkbox"]:checked').map((function(){return $(this).val()})).get();getColor(breedIds)}));$(".prefecture_submit").click((function(){setPrefecturesLoad()}));$(document).click((function(e){if(e.target.className==="mfp-content"){const breedIds=$('[class="form1_breeds_checkbox breeds_checkbox"]:checked').map((function(){return $(this).val()})).get();getColor(breedIds)}}));$(".popular_checkbox").click((function(){const formNumber=$(this).prop("id").slice(0,6);const formValue=$(this).val();const isChecked=$(this).prop("checked");changePopularBreeds(formNumber,formValue,isChecked)}));$(".popular_all").click((function(){const parentChecked=$(this).prop("checked");const formNumber=$(this).prop("id").slice(0,6);const values=$(this).parent().find(".popular_checkbox").map((function(){return $(this).val()})).get();if(parentChecked){$(this).parent().find('input[type="checkbox"]:not(:checked)').click()}else{$(this).parent().find('input[type="checkbox"]:checked').click()}let otherForm1="";let otherForm2="";if(formNumber==="form1_"){otherForm1="#form2_popular";otherForm2="#form3_popular"}else if(formNumber==="form2_"){otherForm1="#form1_popular";otherForm2="#form3_popular"}else{otherForm1="#form1_popular";otherForm2="#form2_popular"}values.forEach((function(val){$(otherForm1+val).prop("checked",parentChecked);$(otherForm2+val).prop("checked",parentChecked)}));setDogBreedsLoad()}));$(".breeds_checkbox").click((function(){const formNumber=$(this).prop("id").slice(0,6);const formValue=$(this).val();const isChecked=$(this).prop("checked");const target="breed";const checkboxName='[class="'+formNumber+'breeds_checkbox breeds_checkbox"]:checked';const breedIds=$(checkboxName).map((function(){return $(this).val()})).get();const breedNames=$(checkboxName).map((function(){return $(this).next("label.checkbox").text()})).get();if(isChecked===true){$("#form1_popular"+formValue).prop("checked",true);$("#form2_popular"+formValue).prop("checked",true);$("#form3_popular"+formValue).prop("checked",true)}else{$("#form1_popular"+formValue).prop("checked",false);$("#form2_popular"+formValue).prop("checked",false);$("#form3_popular"+formValue).prop("checked",false)}checkOtherForm(breedIds,formNumber,target,"breeds_checkbox");insertFormText(breedNames,".selected-dog_breeds");setDogBreedCategories(breedIds);countBreeds(breedIds)}));$(".dog_breed_clear").click((function(){$(".breeds_checkbox").prop("checked",false);$(".puppySearchList2-2 input:checkbox").prop("checked",false);$(".selected-dog_breeds").html('<span class="selected_items">すべて</span>');$(".breeds_count").text("0");getColor([])}));$(".color_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);var colorIds=$('[class="'+formNumber+'color_checkbox color_checkbox"]:checked').map((function(){return $(this).val()})).get();var otherForm="form3_";if(formNumber==="form3_")otherForm="form1_";insertCheckboxDetailText(colorIds,formNumber,otherForm,"color_checkbox","color",".detail_color")}));$(".clear_color").click((function(){$(".color_checkbox").prop("checked",false);$(".detail_color").html('<span class="selected_items">すべて</span>');insertDetailText()}));$(".clear_picky").click((function(){$(".picky_search").prop("checked",false);$("#form1_preferential_birth_m")[0].selectedIndex=-1;$("#form1_preferential_birth_d")[0].selectedIndex=-1}));$(".sale_status_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);var statusIds=$('[class="'+formNumber+'sale_status_checkbox sale_status_checkbox"]:checked').map((function(){return $(this).val()})).get();var otherForm="form3_";if(formNumber==="form3_")otherForm="form1_";insertCheckboxDetailText(statusIds,formNumber,otherForm,"sale_status_checkbox","sale_status_id_",".detail_sale")}));$(".to_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);insertRadioDetailText(this,formNumber,".detail_birth","to_","to_all")}));$(".sex_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);insertRadioDetailText(this,formNumber,".detail_sex","sex_","sex")}));$(".min_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);insertRadioDetailText(this,formNumber,".detail_min","min_","min_all_reset")}));$(".max_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);insertRadioDetailText(this,formNumber,".detail_max","max_","max_all_reset")}));$(".movie_checkbox").click((function(){var formNumber=$(this).prop("id").slice(0,6);var isCheck=$("#"+formNumber+"movie").prop("checked");var otherForm="form1_";if(formNumber==="form1_"){otherForm="form3_"}if(isCheck){$("#"+otherForm+"movie").prop("checked",true)}else{$("#"+otherForm+"movie").prop("checked",false)}insertDetailText()}));$(".input_breeder_name").keyup((function(){changeBreederName(this)}));$(".input_breeder_name").change((function(){changeBreederName(this)}));$(".search_text_breeds").keyup((function(){var formNumber=$(this).prop("id").slice(0,6);var inputText=$(this).val();searchBreedText(formNumber,inputText)}));$(".search_text_breeds").keydown((function(){var formNumber=$(this).prop("id").slice(0,6);var inputText=$(this).val();searchBreedText(formNumber,inputText)}));$(".search_text_breeds").keypress((function(){var formNumber=$(this).prop("id").slice(0,6);var inputText=$(this).val();searchBreedText(formNumber,inputText)}));$(".search_text_breeds").change((function(){var formNumber=$(this).prop("id").slice(0,6);var inputText=$(this).val();searchBreedText(formNumber,inputText)}));$(".top_form_popup-modal").magnificPopup({type:"inline",preloader:false,callbacks:{close:function(){$("body").removeClass("popup_form-content_bg")}}});$(".form1_popup-modal").magnificPopup({type:"inline",preloader:false});$(".form2_popup-modal").magnificPopup({type:"inline",preloader:false});$(".form3_popup-modal").magnificPopup({type:"inline",preloader:false});$(document).on("click",".top_form_popup-modal",(function(){$(".modal_lazy_load").each((function(){var img=$(this);img.attr("src",img.data("src"))}));$("body").addClass("popup_form-content_bg")}));$(document).on("click",".form1_popup-modal",(function(){$("body").addClass("popup_form-content_bg")}));$(document).on("click",".form2_popup-modal",(function(){$("body").addClass("popup_form-content_bg")}));$(document).on("click",".form3_popup-modal",(function(){$("body").addClass("popup_form-content_bg")}));$(document).on("click",".popup-modal-dismiss",(function(e){$("body").removeClass("popup_form-content_bg");e.preventDefault();$.magnificPopup.close()}));const isBreederModal=document.querySelector(".popup-modal-dismiss.button_style3.breeder");const puppyMgfs=Array.from(document.getElementsByClassName("slide-puppy form1_popup-modal conditions_modal top_form_popup-modal search_popup_open_dog"));const breederMgfs=Array.from(document.getElementsByClassName("slide-breeder  form1_popup-modal conditions_modal top_form_popup-modal search_popup_open_breeder"));let isModalReplace=false;puppyMgfs.forEach((function(){$(document).off("click",".search_popup_open_dog").on("click",".search_popup_open_dog",(function(){const path=location.pathname;const count=document.getElementsByClassName("breed_column_group").length;headerSearchTarget="dog";sideMenuClose();if(path==="/dog"){if(isBreederModal){isModalReplace=true}}else{if(count==1||isBreederModal){isModalReplace=true}}if(isModalReplace){popupDataReplace("dog","Dogs");isModalReplace=false}else{return}}))}));breederMgfs.forEach((function(){$(document).off("click",".search_popup_open_breeder").on("click",".search_popup_open_breeder",(function(){const path=location.pathname;const count=document.getElementsByClassName("breed_column_group").length;headerSearchTarget="breeder";sideMenuClose();if(count==1||!isBreederModal){isModalReplace=true}if(path==="/breeder"){if(!isBreederModal){isModalReplace=true}}else{if(count==1||!isBreederModal){isModalReplace=true}}if(isModalReplace){popupDataReplace("breeder","Breeder");isModalReplace=false}else{return}}))}));window.onbeforeunload=()=>{sessionStorage.removeItem("search_modal_Dogs_element");sessionStorage.removeItem("search_modal_Breeder_element")}}));setDogBreedsLoad();setPrefecturesLoad();insertDetailText();insertEachDetailTextLoad();